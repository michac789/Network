{% extends 'network/layout.html' %}
{% load static %}

{% block script %}
    <script src="{% static "network/profile.js" %}"></script>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
{% endblock script %}

{% block body %}
    {% if not user.is_authenticated %}
        NOT LOGGED IN
    {% elif self %}
        This is yourself
    {% elif followed %}
        Followed
        <form action="{% url 'network:profile_view' username=username %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="followbutton" value="unfollow">
            <button type="submit">Unfollow</button>
        </form>
    {% else %}
        <form action="{% url 'network:profile_view' username=username %}" method="POST">
            {% csrf_token %}
            <input type="hidden" name="followbutton" value="follow">
            <button type="submit">Follow</button>
        </form>
    {% endif %}
    Username: {{ username }}
    Followers: {{ follower }}
    Followings: {{ following }}
    <br>

    {% for post in posts %}
        {{ post.title }}
        {{ post.time }}
        {{ post.like }}
        <div id="post"></div>
    {% endfor %}

    <div id="post"></div>
    <script type="text/babel">
        function App() {
            return (
                <div>
                    HELLO WORLD
                    {{ post.title }}
                    {{ post.time }}
                    {{ post.like }}
                </div>
            );
        }
        ReactDOM.render(<App />, document.querySelector("#post"));
    </script>
{% endblock body %}
